let currentQuestion = 1; 
const quizQuestions = [
   
    {
        "question": "What is a flood?",
        "options": [
            "An overflow of water onto land that is normally dry",
            "A long period of rain without stopping",
            "The process of snow melting in the mountains",
            "A large wave caused by the moon's gravitational pull"
        ],
        "correctAnswer": "An overflow of water onto land that is normally dry"
    },
    {
        "question": "What can cause a flood?",
        "options": [
            "Heavy rain",
            "Melting snow",
            "Dam failure",
            "All of the above"
        ],
        "correctAnswer": "All of the above"
    },
    {
        "question": "Which area is most likely to experience a flash flood?",
        "options": [
            "Deserts",
            "Mountains",
            "Urban areas",
            "Forests"
        ],
        "correctAnswer": "Urban areas"
    },
    {
        "question": "What is a floodplain?",
        "options": [
            "A highland area that is safe from floods",
            "The flat area around a river where water spreads during a flood",
            "A man-made structure to control river flow",
            "An underground water storage area"
        ],
        "correctAnswer": "The flat area around a river where water spreads during a flood"
    },
    {
        "question": "What is the primary purpose of a dam?",
        "options": [
            "To generate electricity",
            "To store water",
            "To prevent floods",
            "All of the above"
        ],
        "correctAnswer": "All of the above"
    },
    {
        "question": "How can urban development increase flood risk?",
        "options": [
            "By creating more impermeable surfaces",
            "By removing vegetation",
            "By altering natural waterways",
            "All of the above"
        ],
        "correctAnswer": "All of the above"
    },
    {
        "question": "What is a levee?",
        "options": [
            "A natural depression in the land",
            "A wall built along a riverbank to prevent flooding",
            "A small dam",
            "A type of boat used in flood rescue"
        ],
        "correctAnswer": "A wall built along a riverbank to prevent flooding"
    },
    {
        "question": "Which of the following is a common effect of flooding?",
        "options": [
            "Soil erosion",
            "Contamination of water supply",
            "Displacement of people",
            "All of the above"
        ],
        "correctAnswer": "All of the above"
    },
    {
        "question": "What is a storm surge?",
        "options": [
            "A sudden increase in storm intensity",
            "An underground flood",
            "An abnormal rise of water generated by a storm",
            "A type of flood control measure"
        ],
        "correctAnswer": "An abnormal rise of water generated by a storm"
    },
    {
        "question": "What role do wetlands play in flood control?",
        "options": [
            "They store excess rainwater",
            "They slow down water flow",
            "They act as natural barriers",
            "All of the above"
        ],
        "correctAnswer": "All of the above"
    },
    {
        "question": "What is an aquifer?",
        "options": [
            "A cloud that produces heavy rainfall",
            "An underwater storage area that holds groundwater",
            "A machine that purifies floodwater",
            "A type of flood-resistant vegetation"
        ],
        "correctAnswer": "An underwater storage area that holds groundwater"
    },
    {
        "question": "What should you do immediately after a flood warning is issued?",
        "options": [
            "Turn off all electrical appliances",
            "Gather essential supplies and documents",
            "Evacuate if advised to do so",
            "All of the above"
        ],
        "correctAnswer": "All of the above"
    },
    {
        "question": "Which of the following is not a recommended action during a flood?",
        "options": [
            "Seek higher ground immediately",
            "Attempt to swim through floodwaters",
            "Stay away from electrical equipment",
            "Listen to local authorities for updates"
        ],
        "correctAnswer": "Attempt to swim through floodwaters"
    },
    {
        "question": "What is meant by 'flood mitigation'?",
        "options": [
            "The process of cleaning up after a flood",
            "Measures taken to reduce or eliminate the long-term risk of flood damage",
            "The act of rescuing people from flooded areas",
            "Predicting when and where floods will occur"
        ],
        "correctAnswer": "Measures taken to reduce or eliminate the long-term risk of flood damage"
    },
    {
        "question": "How do flood warnings differ from flood watches?",
        "options": [
            "A flood watch indicates that conditions are right for flooding to occur, while a flood warning means flooding is already occurring or will occur soon",
            "A flood warning is issued before a flood watch",
            "A flood watch is more severe than a flood warning",
            "There is no difference between the two"
        ],
        "correctAnswer": "A flood watch indicates that conditions are right for flooding to occur, while a flood warning means flooding is already occurring or will occur soon"
    },
    {
        "question": "What is a '100-year flood'?",
        "options": [
            "A flood that occurs every 100 years",
            "A flood that lasts for 100 years",
            "A flood level with a 1 percent chance of being equaled or exceeded in any given year",
            "The most severe flood recorded in the last 100 years"
        ],
        "correctAnswer": "A flood level with a 1 percent chance of being equaled or exceeded in any given year"
    },
    {
        "question": "Why is it dangerous to drive through floodwaters?",
        "options": [
            "Vehicles can be swept away in as little as 12 inches of water",
            "The road under the water may be damaged or eroded",
            "Floodwaters can stall a vehicle's engine",
            "All of the above"
        ],
        "correctAnswer": "All of the above"
    },
    {
        "question": "What is the primary health risk associated with floodwaters?",
        "options": [
            "Drowning",
            "Contamination by sewage and chemicals",
            "Hypothermia",
            "Dehydration"
        ],
        "correctAnswer": "Contamination by sewage and chemicals"
    },
    {
        "question": "What action should be taken before a flood to protect property?",
        "options": [
            "Elevate electrical appliances",
            "Install check valves in sewer traps",
            "Construct barriers such as levees, berms, and flood walls",
            "All of the above"
        ],
        "correctAnswer": "All of the above"
    },
    {
        "question": "What is an 'urban flood'?",
        "options": [
            "Flooding that occurs in rural areas",
            "Flooding that primarily affects wildlife",
            "Flooding that occurs in cities and towns, often exacerbated by the urban landscape",
            "A controlled release of water from an urban reservoir"
        ],
        "correctAnswer": "Flooding that occurs in cities and towns, often exacerbated by the urban landscape"
    }
       
    
];
let userAnswers = {};

function initializeQuiz() {
    generateCards();
    updateCurrentQuestion();
    document.querySelectorAll('.card').forEach(card => {
        card.style.backgroundColor = ''; 
    });
}

function generateCards() {
    const cardsContainer = document.querySelector('.cards-container');
    cardsContainer.innerHTML = ''; 
    for (let i = 1; i <= quizQuestions.length; i++) {
        const card = document.createElement('div');
        card.classList.add('card');
        card.textContent = i;
        card.onclick = () => goToQuestion(i);
        cardsContainer.appendChild(card);
    }
}

function navigate(direction) {
    currentQuestion += direction;
    if (currentQuestion < 1) currentQuestion = 1;
    if (currentQuestion > 30) currentQuestion = 30;
    updateCurrentQuestion();
}

function goToQuestion(questionNumber) {
    currentQuestion = questionNumber;
    updateCurrentQuestion();
}

function updateCurrentQuestion() {
    const questionEl = document.querySelector('.question');
    const questionData = quizQuestions[currentQuestion - 1];
    
    questionEl.innerHTML = `<h2>${currentQuestion}. ${questionData.question}</h2>
        <form id="quiz-form" onchange="saveUserAnswer(${currentQuestion - 1})">
            ${questionData.options.map((option, index) => `
                <input type="radio" id="option${index}" name="question${currentQuestion}" value="${option}" ${userAnswers[currentQuestion - 1] === option ? 'checked' : ''}>
                <label for="option${index}">${option}</label><br>
            `).join('')}
        </form>`;
}

function saveUserAnswer(questionIndex) {
    const selectedOption = document.querySelector(`input[name="question${questionIndex + 1}"]:checked`).value;
    userAnswers[questionIndex] = selectedOption;
}

function submitQuiz() {
    let score = 0;
    const questionEl = document.querySelector('.question');
    questionEl.innerHTML = ''; 

    quizQuestions.forEach((question, qIndex) => {
        const userAnswer = userAnswers[qIndex];
        const correctAnswer = question.correctAnswer;
        const isCorrect = userAnswer === correctAnswer;

        if (isCorrect) {
            score++;
        }

        const resultDiv = document.createElement('div');
        resultDiv.classList.add('result-question');
        resultDiv.innerHTML = `<h2>${qIndex + 1}. ${question.question}</h2>
            ${question.options.map((option, index) => {
                let color = option === correctAnswer ? 'green' : 'black';
                let additionalText = option === correctAnswer ? '' : '';

                if (userAnswer) {
                    if (option === userAnswer) {
                        color = option === correctAnswer ? 'green' : 'red'; 
                    }
                } else if (option === correctAnswer) {
                    additionalText += ' (Not marked)'; 
                }

                return `<div style="color: ${color};">${option}${additionalText}</div>`;
            }).join('')}`;

        questionEl.appendChild(resultDiv);
    });

    alert(`Quiz submitted! Your score is ${score}/${quizQuestions.length}.`);
}


window.onload = initializeQuiz;
